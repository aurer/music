const {
  h,
  Component
} = preact;

class Track extends Component {
  remapTrack(track) {
    return {
      name: track.name,
      artist: track.artist['#text'],
      album: track.album['#text'],
      image: this.findImage(track.image)
    };
  }

  findImage(trackImages) {
    let image = trackImages.reverse().find(image => image['#text'] != '');
    return image ? image['#text'] : 'https://unsplash.it/300/300';
  }

  render(props) {
    let track = this.remapTrack(props.track);
    let style = {
      backgroundImage: 'url(' + track.image + ')'
    };
    let searchUri = `spotify:search:${track.artist}%20${track.name}`;
    return h("div", {
      class: "Track-container"
    }, h("div", {
      class: "Track"
    }, h("a", {
      href: searchUri,
      class: "Track-image",
      style: style
    }, h("img", {
      src: track.image
    })), h("div", {
      class: "Track-info"
    }, h("h2", {
      class: "Track-name"
    }, h("a", {
      href: searchUri
    }, track.name)), h("div", {
      class: "Track-artist"
    }, track.artist))));
  }

}

export default Track;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvVHJhY2suanMiXSwibmFtZXMiOlsiaCIsIkNvbXBvbmVudCIsInByZWFjdCIsIlRyYWNrIiwicmVtYXBUcmFjayIsInRyYWNrIiwibmFtZSIsImFydGlzdCIsImFsYnVtIiwiaW1hZ2UiLCJmaW5kSW1hZ2UiLCJ0cmFja0ltYWdlcyIsInJldmVyc2UiLCJmaW5kIiwicmVuZGVyIiwicHJvcHMiLCJzdHlsZSIsImJhY2tncm91bmRJbWFnZSIsInNlYXJjaFVyaSJdLCJtYXBwaW5ncyI6IkFBQUEsTUFBTTtBQUFFQSxFQUFBQSxDQUFGO0FBQUtDLEVBQUFBO0FBQUwsSUFBbUJDLE1BQXpCOztBQUVBLE1BQU1DLEtBQU4sU0FBb0JGLFNBQXBCLENBQThCO0FBQzdCRyxFQUFBQSxVQUFVLENBQUNDLEtBQUQsRUFBUTtBQUNqQixXQUFPO0FBQ05DLE1BQUFBLElBQUksRUFBRUQsS0FBSyxDQUFDQyxJQUROO0FBRU5DLE1BQUFBLE1BQU0sRUFBRUYsS0FBSyxDQUFDRSxNQUFOLENBQWEsT0FBYixDQUZGO0FBR05DLE1BQUFBLEtBQUssRUFBRUgsS0FBSyxDQUFDRyxLQUFOLENBQVksT0FBWixDQUhEO0FBSU5DLE1BQUFBLEtBQUssRUFBRSxLQUFLQyxTQUFMLENBQWVMLEtBQUssQ0FBQ0ksS0FBckI7QUFKRCxLQUFQO0FBTUE7O0FBRURDLEVBQUFBLFNBQVMsQ0FBQ0MsV0FBRCxFQUFjO0FBQ3RCLFFBQUlGLEtBQUssR0FBR0UsV0FBVyxDQUFDQyxPQUFaLEdBQXNCQyxJQUF0QixDQUEyQkosS0FBSyxJQUFJQSxLQUFLLENBQUMsT0FBRCxDQUFMLElBQWtCLEVBQXRELENBQVo7QUFDQSxXQUFPQSxLQUFLLEdBQUdBLEtBQUssQ0FBQyxPQUFELENBQVIsR0FBb0IsNkJBQWhDO0FBQ0E7O0FBRURLLEVBQUFBLE1BQU0sQ0FBQ0MsS0FBRCxFQUFRO0FBQ2IsUUFBSVYsS0FBSyxHQUFHLEtBQUtELFVBQUwsQ0FBZ0JXLEtBQUssQ0FBQ1YsS0FBdEIsQ0FBWjtBQUNBLFFBQUlXLEtBQUssR0FBRztBQUFFQyxNQUFBQSxlQUFlLEVBQUUsU0FBU1osS0FBSyxDQUFDSSxLQUFmLEdBQXVCO0FBQTFDLEtBQVo7QUFDQSxRQUFJUyxTQUFTLEdBQUksa0JBQWlCYixLQUFLLENBQUNFLE1BQU8sTUFBS0YsS0FBSyxDQUFDQyxJQUFLLEVBQS9EO0FBQ0EsV0FDQztBQUFLLE1BQUEsS0FBSyxFQUFDO0FBQVgsT0FDQztBQUFLLE1BQUEsS0FBSyxFQUFDO0FBQVgsT0FDQztBQUFHLE1BQUEsSUFBSSxFQUFFWSxTQUFUO0FBQW9CLE1BQUEsS0FBSyxFQUFDLGFBQTFCO0FBQXdDLE1BQUEsS0FBSyxFQUFFRjtBQUEvQyxPQUNDO0FBQUssTUFBQSxHQUFHLEVBQUVYLEtBQUssQ0FBQ0k7QUFBaEIsTUFERCxDQURELEVBSUM7QUFBSyxNQUFBLEtBQUssRUFBQztBQUFYLE9BQ0M7QUFBSSxNQUFBLEtBQUssRUFBQztBQUFWLE9BQ0M7QUFBRyxNQUFBLElBQUksRUFBRVM7QUFBVCxPQUFxQmIsS0FBSyxDQUFDQyxJQUEzQixDQURELENBREQsRUFJQztBQUFLLE1BQUEsS0FBSyxFQUFDO0FBQVgsT0FBMkJELEtBQUssQ0FBQ0UsTUFBakMsQ0FKRCxDQUpELENBREQsQ0FERDtBQWVBOztBQWxDNEI7O0FBcUM5QixlQUFlSixLQUFmIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBoLCBDb21wb25lbnQgfSA9IHByZWFjdDtcblxuY2xhc3MgVHJhY2sgZXh0ZW5kcyBDb21wb25lbnQge1xuXHRyZW1hcFRyYWNrKHRyYWNrKSB7XG5cdFx0cmV0dXJuIHtcblx0XHRcdG5hbWU6IHRyYWNrLm5hbWUsXG5cdFx0XHRhcnRpc3Q6IHRyYWNrLmFydGlzdFsnI3RleHQnXSxcblx0XHRcdGFsYnVtOiB0cmFjay5hbGJ1bVsnI3RleHQnXSxcblx0XHRcdGltYWdlOiB0aGlzLmZpbmRJbWFnZSh0cmFjay5pbWFnZSlcblx0XHR9O1xuXHR9XG5cblx0ZmluZEltYWdlKHRyYWNrSW1hZ2VzKSB7XG5cdFx0bGV0IGltYWdlID0gdHJhY2tJbWFnZXMucmV2ZXJzZSgpLmZpbmQoaW1hZ2UgPT4gaW1hZ2VbJyN0ZXh0J10gIT0gJycpO1xuXHRcdHJldHVybiBpbWFnZSA/IGltYWdlWycjdGV4dCddIDogJ2h0dHBzOi8vdW5zcGxhc2guaXQvMzAwLzMwMCc7XG5cdH1cblxuXHRyZW5kZXIocHJvcHMpIHtcblx0XHRsZXQgdHJhY2sgPSB0aGlzLnJlbWFwVHJhY2socHJvcHMudHJhY2spO1xuXHRcdGxldCBzdHlsZSA9IHsgYmFja2dyb3VuZEltYWdlOiAndXJsKCcgKyB0cmFjay5pbWFnZSArICcpJyB9O1xuXHRcdGxldCBzZWFyY2hVcmkgPSBgc3BvdGlmeTpzZWFyY2g6JHt0cmFjay5hcnRpc3R9JTIwJHt0cmFjay5uYW1lfWA7XG5cdFx0cmV0dXJuIChcblx0XHRcdDxkaXYgY2xhc3M9XCJUcmFjay1jb250YWluZXJcIj5cblx0XHRcdFx0PGRpdiBjbGFzcz1cIlRyYWNrXCI+XG5cdFx0XHRcdFx0PGEgaHJlZj17c2VhcmNoVXJpfSBjbGFzcz1cIlRyYWNrLWltYWdlXCIgc3R5bGU9e3N0eWxlfT5cblx0XHRcdFx0XHRcdDxpbWcgc3JjPXt0cmFjay5pbWFnZX0gLz5cblx0XHRcdFx0XHQ8L2E+XG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cIlRyYWNrLWluZm9cIj5cblx0XHRcdFx0XHRcdDxoMiBjbGFzcz1cIlRyYWNrLW5hbWVcIj5cblx0XHRcdFx0XHRcdFx0PGEgaHJlZj17c2VhcmNoVXJpfT57dHJhY2submFtZX08L2E+XG5cdFx0XHRcdFx0XHQ8L2gyPlxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIlRyYWNrLWFydGlzdFwiPnt0cmFjay5hcnRpc3R9PC9kaXY+XG5cdFx0XHRcdFx0PC9kaXY+XG5cdFx0XHRcdDwvZGl2PlxuXHRcdFx0PC9kaXY+XG5cdFx0KTtcblx0fVxufVxuXG5leHBvcnQgZGVmYXVsdCBUcmFjaztcbiJdLCJmaWxlIjoiY29tcG9uZW50cy9UcmFjay5qcyJ9