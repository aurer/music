const {
  h,
  Component
} = preact;

class Track extends Component {
  remapTrack(track) {
    return {
      name: track.name,
      artist: track.artist['#text'],
      album: track.album['#text'],
      image: this.findImage(track.image)
    };
  }

  findImage(trackImages) {
    let image = trackImages.reverse().find(image => image['#text'] != '');
    return image ? image['#text'] : 'https://unsplash.it/300/300';
  }

  render(props) {
    let track = this.remapTrack(props.track);
    return h("div", {
      class: "Track"
    }, h("img", {
      src: track.image
    }), h("h2", {
      class: "Track-name"
    }, track.name), h("div", {
      class: "Track-artist"
    }, track.artist));
  }

}

export default Track;
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNvbXBvbmVudHMvVHJhY2suanMiXSwibmFtZXMiOlsiaCIsIkNvbXBvbmVudCIsInByZWFjdCIsIlRyYWNrIiwicmVtYXBUcmFjayIsInRyYWNrIiwibmFtZSIsImFydGlzdCIsImFsYnVtIiwiaW1hZ2UiLCJmaW5kSW1hZ2UiLCJ0cmFja0ltYWdlcyIsInJldmVyc2UiLCJmaW5kIiwicmVuZGVyIiwicHJvcHMiXSwibWFwcGluZ3MiOiJBQUFBLE1BQU07QUFBRUEsRUFBQUEsQ0FBRjtBQUFLQyxFQUFBQTtBQUFMLElBQW1CQyxNQUF6Qjs7QUFFQSxNQUFNQyxLQUFOLFNBQW9CRixTQUFwQixDQUE4QjtBQUM3QkcsRUFBQUEsVUFBVSxDQUFDQyxLQUFELEVBQVE7QUFDakIsV0FBTztBQUNOQyxNQUFBQSxJQUFJLEVBQUVELEtBQUssQ0FBQ0MsSUFETjtBQUVOQyxNQUFBQSxNQUFNLEVBQUVGLEtBQUssQ0FBQ0UsTUFBTixDQUFhLE9BQWIsQ0FGRjtBQUdOQyxNQUFBQSxLQUFLLEVBQUVILEtBQUssQ0FBQ0csS0FBTixDQUFZLE9BQVosQ0FIRDtBQUlOQyxNQUFBQSxLQUFLLEVBQUUsS0FBS0MsU0FBTCxDQUFlTCxLQUFLLENBQUNJLEtBQXJCO0FBSkQsS0FBUDtBQU1BOztBQUVEQyxFQUFBQSxTQUFTLENBQUNDLFdBQUQsRUFBYztBQUN0QixRQUFJRixLQUFLLEdBQUdFLFdBQVcsQ0FBQ0MsT0FBWixHQUFzQkMsSUFBdEIsQ0FBMkJKLEtBQUssSUFBSUEsS0FBSyxDQUFDLE9BQUQsQ0FBTCxJQUFrQixFQUF0RCxDQUFaO0FBQ0EsV0FBT0EsS0FBSyxHQUFHQSxLQUFLLENBQUMsT0FBRCxDQUFSLEdBQW9CLDZCQUFoQztBQUNBOztBQUVESyxFQUFBQSxNQUFNLENBQUNDLEtBQUQsRUFBUTtBQUNiLFFBQUlWLEtBQUssR0FBRyxLQUFLRCxVQUFMLENBQWdCVyxLQUFLLENBQUNWLEtBQXRCLENBQVo7QUFDQSxXQUNDO0FBQUssTUFBQSxLQUFLLEVBQUM7QUFBWCxPQUNDO0FBQUssTUFBQSxHQUFHLEVBQUVBLEtBQUssQ0FBQ0k7QUFBaEIsTUFERCxFQUVDO0FBQUksTUFBQSxLQUFLLEVBQUM7QUFBVixPQUF3QkosS0FBSyxDQUFDQyxJQUE5QixDQUZELEVBR0M7QUFBSyxNQUFBLEtBQUssRUFBQztBQUFYLE9BQTJCRCxLQUFLLENBQUNFLE1BQWpDLENBSEQsQ0FERDtBQU9BOztBQXhCNEI7O0FBMkI5QixlQUFlSixLQUFmIiwic291cmNlc0NvbnRlbnQiOlsiY29uc3QgeyBoLCBDb21wb25lbnQgfSA9IHByZWFjdDtcclxuXHJcbmNsYXNzIFRyYWNrIGV4dGVuZHMgQ29tcG9uZW50IHtcclxuXHRyZW1hcFRyYWNrKHRyYWNrKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRuYW1lOiB0cmFjay5uYW1lLFxyXG5cdFx0XHRhcnRpc3Q6IHRyYWNrLmFydGlzdFsnI3RleHQnXSxcclxuXHRcdFx0YWxidW06IHRyYWNrLmFsYnVtWycjdGV4dCddLFxyXG5cdFx0XHRpbWFnZTogdGhpcy5maW5kSW1hZ2UodHJhY2suaW1hZ2UpXHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0ZmluZEltYWdlKHRyYWNrSW1hZ2VzKSB7XHJcblx0XHRsZXQgaW1hZ2UgPSB0cmFja0ltYWdlcy5yZXZlcnNlKCkuZmluZChpbWFnZSA9PiBpbWFnZVsnI3RleHQnXSAhPSAnJyk7XHJcblx0XHRyZXR1cm4gaW1hZ2UgPyBpbWFnZVsnI3RleHQnXSA6ICdodHRwczovL3Vuc3BsYXNoLml0LzMwMC8zMDAnO1xyXG5cdH1cclxuXHJcblx0cmVuZGVyKHByb3BzKSB7XHJcblx0XHRsZXQgdHJhY2sgPSB0aGlzLnJlbWFwVHJhY2socHJvcHMudHJhY2spO1xyXG5cdFx0cmV0dXJuIChcclxuXHRcdFx0PGRpdiBjbGFzcz1cIlRyYWNrXCI+XHJcblx0XHRcdFx0PGltZyBzcmM9e3RyYWNrLmltYWdlfSAvPlxyXG5cdFx0XHRcdDxoMiBjbGFzcz1cIlRyYWNrLW5hbWVcIj57dHJhY2submFtZX08L2gyPlxyXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJUcmFjay1hcnRpc3RcIj57dHJhY2suYXJ0aXN0fTwvZGl2PlxyXG5cdFx0XHQ8L2Rpdj5cclxuXHRcdCk7XHJcblx0fVxyXG59XHJcblxyXG5leHBvcnQgZGVmYXVsdCBUcmFjaztcclxuIl0sImZpbGUiOiJjb21wb25lbnRzL1RyYWNrLmpzIn0=